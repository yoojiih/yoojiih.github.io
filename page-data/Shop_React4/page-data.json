{"componentChunkName":"component---src-templates-blog-template-js","path":"/Shop_React4/","result":{"data":{"cur":{"id":"bc13ded1-996b-563c-9cf5-6bce01c09c20","html":"<h1 id=\"auth--인증-\" style=\"position:relative;\"><a href=\"#auth--%EC%9D%B8%EC%A6%9D-\" aria-label=\"auth  인증  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Auth ( 인증 )</h1>\n<h2 id=\"auth-route-생성\" style=\"position:relative;\"><a href=\"#auth-route-%EC%83%9D%EC%84%B1\" aria-label=\"auth route 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>auth route 생성</h2>\n<p>페이지 이동 시 로그인 여부 및 관리자 여부(권한)등을 체크하기 위해 구현\n토큰 생성 후 토큰을 client 측에선 쿠키에다가 넣어주고 서버 측에서는 user database 에다가 넣어줬는데 이 두가지를 이용해 서로 토큰이 일치하는지 체크\n클라이언트에서 서버로 전달된 incode(암호화) 되어있는 token을 decode(복호화)해 user_id를 얻어내어 database user collection에서 유저를 찾은 후 쿠키에서 받아온 토큰이 유저도 갖고 있다면 인증 완료되는 구조\n토큰이 없거나 일치하지 않으면 인증실패\n토큰 일치시 인증 완료 그리고 해당하는 유저의 정보들을 선별해(아이디,이미지 등) front end측으로 보내줌\n(server/index.js)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> auth <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./middleware/auth'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// auth라는 미들웨어를 추가 </span>\n<span class=\"token comment\">// 미들웨어: end point의 request를 받은 후 callback function을 하기 전 중간에 작업하기 위함</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/users/auth'</span><span class=\"token punctuation\">,</span> auth<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//여기 까지 미들웨어를 통과해 온 건 Authentication = True 라는 뜻</span>\n  <span class=\"token comment\">// 클라이언트에 authentication = ture 라는 정보를 전달해주기 위해 res.status(200)넣어주고 json데이터로 클라이언트에 원하는 유저 정보(server/models/User.js내 userSchema)를 제공해줌</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//middleware에서 req.user = user 해서 request에 넣어줬기 때문에 여기서 req.user._id 가능</span>\n    <span class=\"token comment\">//이렇게 정보를 주면 어떤 페이지에서든지 유저 정보를 이용 가능함</span>\n    _id<span class=\"token operator\">:</span> req<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>_id<span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// 0이면 false(일반유저) 아니면 ture(관리자)</span>\n    isAdmin<span class=\"token operator\">:</span> req<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>role <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token boolean\">false</span> <span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    isAuth<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    email<span class=\"token operator\">:</span> req<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span>\n    name<span class=\"token operator\">:</span> req<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\n    lastname<span class=\"token operator\">:</span> req<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>lastname<span class=\"token punctuation\">,</span>\n    role<span class=\"token operator\">:</span> req<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>role<span class=\"token punctuation\">,</span>\n    image<span class=\"token operator\">:</span> req<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>image\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>(server/middleware/auth.js)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> User <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../models/User'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// auth 정의</span>\n<span class=\"token keyword\">let</span> <span class=\"token function-variable function\">auth</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> next</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//인증 처리</span>\n    <span class=\"token comment\">// 1. cookie parser를 이용해 클라이언트 쿠키에서 토큰을 가져옴</span>\n    <span class=\"token comment\">// cookie를 넣을 때 x_auth라는 이름으로 넣었기 때문에 req.cookies.x_auth</span>\n    <span class=\"token keyword\">let</span> token <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>cookies<span class=\"token punctuation\">.</span>x_auth<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 2. 유저 모델{ User }을 불러 온 후 server/models/User.js에서 메소드를 만들어서 토큰을 복호화 한후 유저 찾음</span>\n    User<span class=\"token punctuation\">.</span><span class=\"token function\">findByToken</span><span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> user</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throw</span> err<span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// 유저 없다면 클라이언트에  isAuth: false, error: true  정보 전해줌</span>\n        <span class=\"token comment\">// 즉 index.js내 findByToken메소드로 돌아가지 못하고 미들웨어 내에서 return해 빠져나가게 됨</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>user<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> isAuth<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> error<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">// 유저 있다면 request token에다가 위에 받아온 token 넣어주고 </span>\n        req<span class=\"token punctuation\">.</span>token <span class=\"token operator\">=</span> token<span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// request user에다가도 user정보를 다 넣어준 후 </span>\n        req<span class=\"token punctuation\">.</span>user <span class=\"token operator\">=</span> user<span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// 미들웨어에서 다음으로 넘어갈 수 있게함</span>\n        <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">//  request에다가 token과 user를 넣어주는 이유는 router(index.js)에서 request를 받을 때</span>\n<span class=\"token comment\">//  token과 user를 request에 넣어줌으로 인해 req.user시 미들웨어 내 구현한 user, token 정보를 사용하기 위함</span>\n\n\n<span class=\"token comment\">// 3. 유저가 있으면 인증 완료</span>\n<span class=\"token comment\">// 4. 유저가 없으면 인증 실패</span>\n\n<span class=\"token comment\">// auth를 다른 파일에서도 사용가능하도록 export - index.js에서 import</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> auth <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>(server/models/User.js)\nfindByToken 메소드 생성해 복호화\n<a href=\"https://www.npmjs.com/package/jsonwebtoken\">공식문서 참고</a>\nverify a token symmetric</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">userSchema<span class=\"token punctuation\">.</span>statics<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">findByToken</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">token<span class=\"token punctuation\">,</span> cb</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> user <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// 가져온 토큰을 decode(복호화)할 땐 verify 사용</span>\n    <span class=\"token comment\">// 토큰 생성시 사용했던 secretToken을 넣어주면 decoded(디코드 된 결과물 = user_id)나옴</span>\n    jwt<span class=\"token punctuation\">.</span><span class=\"token function\">verify</span><span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">,</span> <span class=\"token string\">'secretToken'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> decoded</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token comment\">// user_id 이용해서 유저를 찾은 다음 클라이언트에서 가져온 token과 DB에 보관된 토큰이 일치하는지 확인</span>\n        <span class=\"token comment\">// user 가져온 후 mongodb메소드인 findOne을 통해 user_id(decoded)과 token으로 찾음 </span>\n        user<span class=\"token punctuation\">.</span><span class=\"token function\">findOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token string\">\"_id\"</span><span class=\"token operator\">:</span> decoded<span class=\"token punctuation\">,</span> <span class=\"token string\">\"token\"</span><span class=\"token operator\">:</span> token <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> user</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// err와 user callback function을 주는데 만약 에러 있다면 callback으로 에러를 전달해줌</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token function\">cb</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// 에러 없다면 user정보를 전달해주고 다시 미들웨어 auth.js에 가서 token과 err, user callback 써줌</span>\n            <span class=\"token function\">cb</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1 id=\"로그아웃\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EA%B7%B8%EC%95%84%EC%9B%83\" aria-label=\"로그아웃 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로그아웃</h1>\n<h2 id=\"logout-route-생성\" style=\"position:relative;\"><a href=\"#logout-route-%EC%83%9D%EC%84%B1\" aria-label=\"logout route 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>logout route 생성</h2>\n<ul>\n<li>\n<p>로그아웃 하려는 유저를 데이터베이스에서 찾아서 그 유저의 토큰을 지워줌\n인증 시 클라이언트 쿠키에 있는 토큰을 서버쪽 db에 있는 토큰과 같은지 확인을 함으로써 인증을 완료했었기 때문에\n로그아웃 시 토큰을 지워주면 인증실패해 로그인 기능이 풀려버림</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 로그인된 상태기 때문에 auth 미들웨어를 넣어줌</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/users/logout'</span><span class=\"token punctuation\">,</span> auth<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> \n<span class=\"token comment\">// User를 찾아서 업데이트</span>\n<span class=\"token comment\">// 첫번째 object: 유저를 찾을 땐 auth미들웨어에서 request에 넣어준 _id로 찾음</span>\nUser<span class=\"token punctuation\">.</span><span class=\"token function\">findOneAndUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> _id<span class=\"token operator\">:</span> req<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>_id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token comment\">// 두번재 object : 토큰을 지워줌</span>\n<span class=\"token punctuation\">{</span> token<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span> <span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// 마지막으로 callback function</span>\n<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> user</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 에러 났다면 return Response json 데이터로  success: false와 error message 전달</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> success<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> err <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 성공 시 </span>\n  <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    success<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>","excerpt":"Auth ( 인증 ) auth route 생성 페이지 이동 시 로그인 여부 및 관리자 여부(권한)등을 체크하기 위해 구현\n토큰 생성 후 토큰을 client 측에선 쿠키에다가 넣어주고 서버 측에서는 user database 에다가 넣어줬는데 이 두가지를 이용해 서로 토큰이 일치하는지 체크\n클라이언트에서 서버로 전달된 incode(암호화) 되어있는 token을 decode(복호화)해 user_id를 얻어내어 database user collection에서 유저를 찾은 후 쿠키에서 받아온 토큰이 유저도 갖고 있다면 인증 완료되는 구조\n토큰이 없거나 일치하지 않으면 인증실패\n토큰 일치시 인증 완료 그리고 해당하는 유저의 정보들을 선별해(아이디,이미지 등) front end측으로 보내줌\n(server/index.js) (server/middleware/auth.js) (server/models/User.js) \nfindByToken 메소드 생성해 복호화\n공식문서 참고\nverify a tok…","frontmatter":{"date":"November 14, 2021","title":"Shop Project_React","categories":"TIL","author":"yooji","emoji":null},"fields":{"slug":"/Shop_React4/"}},"next":{"id":"01749ce1-54ad-54e8-bc6e-3fdf2fee76d2","html":"<h1 id=\"회원가입-기능-backend\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EC%9B%90%EA%B0%80%EC%9E%85-%EA%B8%B0%EB%8A%A5-backend\" aria-label=\"회원가입 기능 backend permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회원가입 기능 (Backend)</h1>\n<h2 id=\"bcrypt로-비밀번호-암호화\" style=\"position:relative;\"><a href=\"#bcrypt%EB%A1%9C-%EB%B9%84%EB%B0%80%EB%B2%88%ED%98%B8-%EC%95%94%ED%98%B8%ED%99%94\" aria-label=\"bcrypt로 비밀번호 암호화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bcrypt로 비밀번호 암호화</h2>\n<p><a href=\"https://www.npmjs.com/package/bcrypt\">공식문서 참고</a></p>\n<ul>\n<li>DB에 저장 시 Bcrypt라는 라이브러리 사용해 비밀번호를 암호화해 관리자도 암호를 모르게 하는게 목표\n<code class=\"language-text\">npm i bcrypt</code></li>\n<li>\n<p>Bcrypt로 비밀번호 암호화 하는 과정</p>\n<ol>\n<li>Register Router(server/index.js)에서 유저 정보들(Account, Password 등)을 데이터베이스(user model인 userSchema)에 저장(user.save)하기 전\n암호화하기 위해 server/models/User.js에서 유저 스키마를 가져와서 mongoose 메소드인 pre를 사용</li>\n<li>function 내 작업 끝나면 다시 user.save로 돌아가게끔 파라미터로 next를 넣어 next() function으로 user.save로 보냄</li>\n<li>비밀번호를 암호화 시키기 위해서 다운받은 bcrypt를 가져옴</li>\n<li>To hash a password\n-> salt가 몇글자인지 나타내는 saltRounds를 먼저 지정 후 salt를 생성함 -> 솔트를 이용해 비밀번호를 암호화 시킴</li>\n<li>\n<p>비밀번호 암호화를 userSchema 모델안의 필드 중 password가 변환될 때에만 해줌\n유저정보를 변경해 저장할 때마다 userSchema.pre쪽을 계속 바꾸게 되어 이메일만 변경해도 비밀번호를 암호화해버리는 문제가 발생하기 때문에\n비밀번호 바꿀때만 실행해야하게 조건(if (user.isModified(‘password’)) {) 달아줌\n( server/models/User.js )</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> bcrypt <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bcrypt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> saltRounds <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n<span class=\"token operator\">...</span>\nuserSchema<span class=\"token punctuation\">.</span><span class=\"token function\">pre</span><span class=\"token punctuation\">(</span><span class=\"token string\">'save'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">next</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">var</span> user <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ol>\n<p>if (user.isModified(‘password’)) {</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// 비밀번호 암호화\n// bcrypt를 가져와서 salt를 만들 때 saltRounds과 callback function을 넣어줌\nbcrypt.genSalt(saltRounds, function (err, salt) {\n    // 에러나면 err를 가져와서 리턴시켜 user.save로 돌아가고\n    if (err) return next(err)\n    // salt를 제대로 생성했다면 다시 bcrypt가져와 암호화 되지 않은 비밀번호와 salt를 이용해서 해시에 넣어줌\n    // 암호화 되지 않은 비밀번호는 const user = new User(req.body)이렇게 req.body를 User모델에 넣었기 때문에\n    // var user = this;를 이용해 userSchema의 password를 user.password로 가져옴\n    // callback function으로 err와 암호화된 비밀번호인 hash를 넣어줌   \n    bcrypt.hash(user.password, salt, function (err, hash) {\n       // 에러 발생시 err를 리턴\n        if (err) return next(err)\n        // hash(암호화된 비밀번호)를 만드는 데 성공했다면 user.password(암호화 되지 않은 비밀번호)를 hash된 비밀번호로 교체해주고 \n        user.password = hash\n        // next()를 이용해서 user.save로 돌아감\n        next()\n    })\n})</code></pre></div>\n<p>} else {\n//비밀번호 바꾸는게 아닌 다른걸 바꾸면 그냥 next()를 해줘서 여기서 머물지 않고 바로 save쪽으로 넘어가게 해줌\nnext()\n}\n})</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(server/index.js) \n```js\n//user에 관한 api를 생성  -> express에서 제공되는 router를 이용\napp.post('/api/users/register', (req, res) => {\n\nconst user = new User(req.body)\n------------저장하기 전-----------------\nuser.save((err, userInfo) => {\nif (err) return res.json({ success: false, err })\nreturn res.status(200).json({\n  success: true\n})\n})\n})</code></pre></div>\n<h1 id=\"로그인-기능\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EA%B8%B0%EB%8A%A5\" aria-label=\"로그인 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로그인 기능</h1>\n<h2 id=\"로그인-router-생성\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EA%B7%B8%EC%9D%B8-router-%EC%83%9D%EC%84%B1\" aria-label=\"로그인 router 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로그인 Router 생성</h2>\n</li>\n<li>post method 사용</li>\n<li>end point는 /login</li>\n<li>request, response 받음</li>\n<li>요청된 이메일(브라우저에 입력한 이메일)을 데이터베이스에 있는지 찾음</li>\n<li>요청된 이메일이 데이터 베이스에 있다면 비밀번호가 같은지 확인</li>\n<li>\n<p>비밀번호 까지 맞다면 그 유저를 위한 토큰을 생성</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">app<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/users/login'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n<span class=\"token comment\">// 요청된 이메일(브라우저에 입력한 이메일)을 데이터베이스에 있는지 찾음</span>\n<span class=\"token comment\">// 유저 모델을 가져와서 mongoDB에서 제공하는 method인 findOne으로 찾고자 하는 이메일을 넣어 찾음</span>\n<span class=\"token comment\">// err, user로 callback function을 줌  </span>\nUser<span class=\"token punctuation\">.</span><span class=\"token function\">findOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> email<span class=\"token operator\">:</span> req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>email <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> user</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">// User collection 안에 해당 이메일을 가진 유저가 한명도 없다면(!user) </span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// return을 해줄 때 response json 데이터로 loginSuccess: false와 message를 줌</span>\n  <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    loginSuccess<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    message<span class=\"token operator\">:</span> <span class=\"token string\">\"제공된 이메일에 해당하는 유저가 없습니다.\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 요청된 이메일이 데이터 베이스에 있다면 (user collection 안에 해당 이메일을 가진 유저가 있다면) 비밀번호가 같은지 확인</span>\n<span class=\"token comment\">// user안에는 유저의 이름, 비밀번호, 이메일이 들어있는데 여기서 comparePassword 메소드를 생성해 (작명 아무렇게나 가능)</span>\n<span class=\"token comment\">// req.body.password(암호화 되기 전 비밀번호)와 callback function으로 두가지 인자(argument)를 넣음</span>\n<span class=\"token comment\">// 에러가 나면 err, 비밀번호를 비교해서 브라우저에서 입력한 비밀번호와 db내 비밀번호를 비교해 일치 시 isMatch로 맞는지 가져오는 메소드를 유저 모델에서 만듦</span>\nuser<span class=\"token punctuation\">.</span><span class=\"token function\">comparePassword</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>password<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> isMatch</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token comment\">// isMatch가 없으면 비밀번호가 틀렸다는 뜻이기 때문에 response를 client에다가 loginSuccess: false, message를 줌</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isMatch<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> loginSuccess<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> message<span class=\"token operator\">:</span> <span class=\"token string\">\"비밀번호가 틀렸습니다.\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>(server/models/User.js)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// userSchema를 가져온 다음에 comparePassword function에 plainPassword, cb 을 준다음</span>\nuserSchema<span class=\"token punctuation\">.</span>methods<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">comparePassword</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">plainPassword<span class=\"token punctuation\">,</span> cb</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n<span class=\"token comment\">// plainPassword 와 db에 있는 암호회된 비밀번호가 같은지 체크하려면 plainPassword를 암호화 해서 비교하면 됨</span>\n<span class=\"token comment\">// bcrypt를 가져와서 compare(plainPassword, 암호화된 비밀번호를 가져오기 위해 userSchema에서 password를 가져옴, callback function  )</span>\nbcrypt<span class=\"token punctuation\">.</span><span class=\"token function\">compare</span><span class=\"token punctuation\">(</span>plainPassword<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>password<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> isMatch</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\">// 비밀번호가 다르면 callback error를 줌</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token function\">cb</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n    <span class=\"token comment\">// 같다면 cb을 줄때 에러는 없고(null) 비밀번호가 같음(true)을 넘겨줌</span>\n    <span class=\"token function\">cb</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> isMatch<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// 다시 로그인 라우터 쪽의  user.comparePassword(req.body.password, (err, isMatch) => { 로 가서 comparePassword 실행</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"토큰-생성-jsonwebtoken\" style=\"position:relative;\"><a href=\"#%ED%86%A0%ED%81%B0-%EC%83%9D%EC%84%B1-jsonwebtoken\" aria-label=\"토큰 생성 jsonwebtoken permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>토큰 생성 (jsonwebtoken)</h2>\n<p><a href=\"https://www.npmjs.com/package/jsonwebtoken\">공식문서 참고</a></p>\n<ul>\n<li>토큰 생성을 위해 라이브러리 설치\n<code class=\"language-text\">npm i jsonwebtoken</code>\njsonwebtoken을 import 해와서 sign이라는 메소드 이용해서 합쳐주면 토큰 생성됨</li>\n<li>\n<p>쿠키 사용을 위한 express에서 제공하는 라이브러리 설치\n<code class=\"language-text\">npm i cookie-parser</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// cookie parser 사용하기 위한 작업</span>\n<span class=\"token keyword\">const</span> cookieParser <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cookie-parser'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">cookieParser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<p>app.post(‘/api/users/login’, (req, res) => {\n// … 요청된 이메일이 데이터 베이스에 있다면 (user collection 안에 해당 이메일을 가진 유저가 있다면) 비밀번호가 같은지 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  // 비밀번호가 맞다면 그 유저를 위한 토큰을 생성\n  // 토큰 생성 시 위에서 따로 comparePassword 메소드 생성한 것처럼 generateToken을 생성\n  // callback function 파라미터에 하나만 들어있음 function (cb) \n  user.generateToken((err, user) => {\n    // 에러가 있다면 res.status(400)을 클라이언트에 전해주고 err메시지도 같이 전달해줌\n    if (err) return res.status(400).send(err);\n    // User.js에서 var token = jwt.sign(user._id.toHexString(), 'secretToken')이렇게 토큰을 생성한 다음에 user.token에다가 넣어준 걸 받아온 상태 (user)\n    // 이 user안에 토큰이 들어있는데 이걸 쿠키 or 로컳스토리지 or session 저장을 해서 보관해야됨\n    // 이 중에 어디에 저장해야 가장 안전할까에 대한 논란이 많음 각기 장단점이 존재\n    // 쿠키에다 저장 시 토큰 저장을 user.token을 아무 이름(x_auth)으로 지정\n    res.cookie(\"w_auth\", user.token)\n      //.status(200)는 성공했다는 표시\n      .status(200)\n      // json으로 데이터(loginSuccess와 userId) 보내줌 \n      .json({ loginSuccess: true, userId: user._id })\n  })\n})</code></pre></div>\n<p>  })\n})</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(server/models/User.js)\n```js\n//jsonwebtoken을 import 해옴\nconst jwt = require('jsonwebtoken');\n\nuserSchema.methods.generateToken = function (cb) {\n    var user = this;\n    \n    // jsonwebtoken(jwt의 sign 메소드)을 이용해서 db내 user id와 secretToken(아무거나)를 합쳐 token을 생성함\n    // user._id + 'secretToken' = token\n    // 나중에 token 해석 시 secretToken를 넣으면 user._id가 나오게 되기 때문에 이 사람이 누구인지 알 수 있음\n    // user._id를 plain object로 변환시키기 위해 toHexString()사용해야 에러 발생하지 않음\n    var token = jwt.sign(user._id.toHexString(), 'secretToken')\n    // 생성한 token을 userSchema에 있는 token 필드에 넣어줌\n    user.token = token\n    user.save(function (err, user) {\n      // 에러 있다면 리턴 시 callback으로 err를 전달해주고\n        if (err) return cb(err)\n        // save 성공 시 err는 없고(null) user정보만 user.generateToken((err, user) => { 로 다시 전달해줌\n        cb(null, user)\n    })\n}</code></pre></div>\n<p><a href=\"https://www.npmjs.com/package/jsonwebtoken\">jsonwebtoken공식문서</a>\n<a href=\"https://velog.io/@kihyun/React-Hook-Form-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">kihyun님 블로그</a></p>","frontmatter":{"date":"November 13, 2021","title":"Shop Project_React","categories":"TIL","author":"yooji","emoji":null},"fields":{"slug":"/Shop_React3/"}},"prev":{"id":"be6a6ee8-7812-5786-b74c-23873709c50d","html":"<h1 id=\"react-js\" style=\"position:relative;\"><a href=\"#react-js\" aria-label=\"react js permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React js</h1>\n<ul>\n<li>페이스북에서 제공하는 자바스크립트 라이브러리 오픈소스</li>\n<li>자바스크립트로 AJAX, HTML 조작 → 코드 多 / React, Angular, Vue 라이브러리 사용 → 간결한 코드</li>\n<li>Component 기반 구조\nComponent는 독립적인 단위의 소프트웨어 모듈을 말하며 컴포넌트로 이루어져 있어 재사용 성이 뛰어남 (컴포넌트 조립해서 사용)\nReact는 UI(View)를 여러 컴포넌트(component)를 쪼개서 만들기 때문에 전체 코드를 파악하기가 쉬우며 한페이지 내에서도 기능 단위로 캡슐화시켜 코드를 관리하기 때문에 재사용성이 높음\n컴포넌트만 import해 사용하면 되니까 코드 반복 입력할 필요없이 간편하며, 애플리케이션이 복잡해지더라도 코드의 유지보수, 관리가 용이함</li>\n<li>Virtural DOM\n예전에 RealDOM을 쓸 땐 하나만 업데이트 해도 전체를 다 reload했는데 이제는 virtural DOM 형태인 React를 사용해 Virtual DOM을 이용해서 처음에 스냅샷을 찍어 놓고 관찰해 바뀐 부분만을 찾아내서 RealDOM에서 이 부분만을 바꿔주기 때문에 훨씬 더 빠르게 한 부분만을 바꿀 수 있게 해줌</li>\n<li>UX가 뛰어나 좋은 사용자경험 제공</li>\n<li>HTML 관리 편함</li>\n<li>SPA(싱글 페이지 어플리케이션)나 iOS/Android 모바일 앱 제작 가능</li>\n<li>다른 페이지로 넘어가도 새로고침없이 스무스하게 동작하는게 모바일 앱이랑 비슷해 앱이라 부름</li>\n<li>React는 데이터 흐름이 한 방향으로만 흐르는 단방향 데이터 흐름을 가짐\n양방향 데이터 바인딩은 규모가 커질수록 데이터의 흐름을 추적하기가 힘들고 복잡해지는 경향이 있어, 단방향으로 복잡한 앱에서도 데이터 흐름에서 일어나는 변화를 보다 예측 가능할 수 있도록 함</li>\n<li>Props and State\nProps: 부모 컴포넌트에서 자식 컴포넌트로 전달해 주는 변경 불가능한 데이터 (props 전달해준 최상위 부모 컴포넌트만 props 변경 가능)\nState: 컴포넌트 내부에서 선언하며 내부에서 값을 변경 가능. 동적인 데이터를 다룰 때 사용 (사용자와의 상호작용을 통한 변경 시)</li>\n</ul>\n<h2 id=\"bable-webpack\" style=\"position:relative;\"><a href=\"#bable-webpack\" aria-label=\"bable webpack permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>bable, webpack</h2>\n<ul>\n<li>babel\n최신 버전의 ECMAScript(unsupported or cutting-edge)를 ES5로 변환해주는 역할을 하는 transpiler\n(ES5는 최신 자바스크립트 문법을 지원하지 않는 범용적인(구형) 브라우저에서 지원을 하기 때문)</li>\n<li>\n<p>webpack\ndependency 분석기이자 module bundler</p>\n<p>이전에 js,css,html 파일 몇개로만 웹사이트를 만들었을 때와 달리 규모가 점점 커지면서 많은 라이브러리, 프레임워크등을 쓰다보니 등장하게 된 것. 많은 모듈들을 하나의 웹팩을 이용해 bundle 해줌 (묶어줌)\n예를들어 module A가 B를 dependency로 요청을하고, module B가 C를 dependency로 요청을 한다면 webpack은 C-B-A 와 같이 dependency map을 생성한다.\n실제로는 매우 복잡하지만, 기본적인 컨셉은 webpack이 모듈들을 복잡한 dependency 관계들과 함께 번들들로 통합해줌\nwebpack은 src폴더 내에만 관리해주고 public은 관리를 안해주기 때문에 이미지 파일 같은 것들을 앱에다 넣고 싶으면 src 안에다가 넣어야만 bundle 작용 가능</p>\n</li>\n<li>webpack과 babel의 관계\n웹팩이 종속성을 처리할 때, 웹팩은 자바스크립트 위에서 작동하기 때문에 모든 것을 자바스크립트로 변환해야 한다. 그 결과, 다른 로더를 사용하여 다른 유형의 리소스/코드를 javascript로 변환한다. ES6 또는 ES7에 대한 변환이 필요할 때에는 babel-loader를 사용해서 webpack과 babel을 연결시켜 사용한다.</li>\n</ul>\n<h2 id=\"cra\" style=\"position:relative;\"><a href=\"#cra\" aria-label=\"cra permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CRA</h2>\n<p>원래 리액트 앱을 처음 실행 시 webpack이나 babel 같은 것을 설정하기 위해서 엄청나게 많은 시간이 걸렸는데 이젠 CRA(create react app) Command로 바로 시작 가능\n<code class=\"language-text\">npx create-react-app .</code>\n<code class=\"language-text\">npx create-react-app 프로젝트명 --template cra-template-pwa</code>\n이렇게 뜨면 설치 완료된 것</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">We suggest that you begin by typing:\n  <span class=\"token builtin class-name\">cd</span> reactshop\n  <span class=\"token function\">npm</span> start\nHappy hacking<span class=\"token operator\">!</span></code></pre></div>\n<h1 id=\"npm-vs-npx\" style=\"position:relative;\"><a href=\"#npm-vs-npx\" aria-label=\"npm vs npx permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>npm VS npx</h1>\n<p>요즘 대부분의 라이브러리에서 npx의 설치 방식을 공식문서에 소개하는 만큼 굉장히 자주 사용하는 도구이기에 해당 명령어가 어떤 의미를 가지고 있는지를 파악한 후 사용하는 것이 중요</p>\n<h2 id=\"npx란\" style=\"position:relative;\"><a href=\"#npx%EB%9E%80\" aria-label=\"npx란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>npx란?</h2>\n<p>npx = Package Runner (실행)</p>\n<ul>\n<li>npx는 npm과 비교대상이 아닌 npm에서 제공하는 npm 레지스트리에 올라가있는 패키지를 쉽게 설치하고 관리할 수 있도록 도와주는 CLI 도구</li>\n<li>npm을 통해 설치하는 모든 종류의 Node.js 기반의 파일들을 굉장히 간단하게 설치하고 실행할 수 있게 도와줌</li>\n<li>npx는 해당 패키지를 실행만 되게 해주기 때문에 가벼움</li>\n</ul>\n<p>npm = Package Manager (관리) </p>\n<ul>\n<li>자바스크립트 패키지 관리 모듈 (Node Package Module)</li>\n<li>라이브러리 레지스트리(저장소)역할과 파일 build 시켜주는 역할을 함, npm에 관한 것은 package.json에 다 정의 되어있음</li>\n</ul>\n<p><code class=\"language-text\">npm install -g npx</code></p>\n<h2 id=\"등장한-이유\" style=\"position:relative;\"><a href=\"#%EB%93%B1%EC%9E%A5%ED%95%9C-%EC%9D%B4%EC%9C%A0\" aria-label=\"등장한 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>등장한 이유</h2>\n<p>과거 npm으로 패키지를 설치할 땐 전역으로 패키지를 설치해 의존성 라이브러리들을 전체적으로 관리하는 방법과 특정 프로젝트에만 의존성 라이브러리를 설치하는 방법이 존재했음</p>\n<p>이렇게 되면 패키지 업데이트 될 때 전역 따로 로컬 따로 업데이트 해야하기에 번거롭고 모듈 업데이트가 확인 불가하며 모듈 업데이트 변경으로 인한 다른 모듈 에러발생 등의 문제가 발생하는데 이를 해결하는 도구가 npx인 것</p>\n<p>npx는 기존에 npm 설치 방법과는 다르게 일일이 설치, 실행, 제거를 할 필요 없이 일회성으로 원하는 패키지를 npm 레지스트리에 접근해서 실행시키고 설치하는 실행도구라\n패키지 설치 및 업데이트를 하지 않더라도 npm 레지스트리에 올라가 있는 최신 버전을 실행시키고 설치만 시키면 끝 </p>\n<p>예를들어 원래는 create-react-app할 때 npm install -g create-react-app 이런식으로 global디렉토리에 다운받았었는데</p>\n<p>이제는 npx가 npm registry에서 create-react-app을 찾아서(look up) 굳이 다운로드 받지 않다도 실행 시켜줌</p>\n<h2 id=\"npx-이점\" style=\"position:relative;\"><a href=\"#npx-%EC%9D%B4%EC%A0%90\" aria-label=\"npx 이점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>npx 이점</h2>\n<ol>\n<li>global로 컴퓨터에 다운받지 않아도 되니까 disk space를 낭비하지 않을 수 있음</li>\n<li>npm registry에 있는 create-react-app을 찾아서(look up)실행 시켜주는 거니까 항상 최신버전 사용 가능</li>\n</ol>\n<h2 id=\"사용\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9\" aria-label=\"사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용</h2>\n<ul>\n<li>npm run-script를 사용하지 않고 로컬에 설치된 패키지를 사용할 경우 npx A만 입력하면 로컬 devDependencies에 설치된 A 패키지를 바로 실행가능\n{\n“devDependencies”: {\n“A”: “^1.4.0”\n}\n}</li>\n<li>로컬에 존재하지 않는 패키지를 일회성 명령으로 원하는 패키지를 npm 레지스트리에 접근해 실행, 설치\nnpx는 우선적으로 로컬에 패키지가 설치되어있는지 파악한 후 패키지가 존재하지 않는다면, npm 레지스트리에서 해당 이름의 패키지가 자동으로 설치되고 호출됨\n그래서 패키지를 업데이트 하지 않아도 npm 레지스트리에 올라가 있는 최신 버전을 수행함</li>\n<li>gist-based scripts를 실행할 경우\n<code class=\"language-text\">npx gist 주소</code>\nGithub의 gist에 올라가 있는 스크립트를 npx를 사용해서 쉽게 실행 간으</li>\n<li>특정 노드 버전의 스크립트를 실행할 경우\nnode 패키지는 nvm, nave 또는 n과 같은 노드 버전 관리 도구를 사용하지 않고도 서로 다른 노드 버전을 사용하여 노드 명령을 매우 쉽게 쓸 수 있는 툴</li>\n</ul>\n<h2 id=\"pwa-progressive-web-apps\" style=\"position:relative;\"><a href=\"#pwa-progressive-web-apps\" aria-label=\"pwa progressive web apps permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PWA (Progressive Web Apps)</h2>\n<p><code class=\"language-text\">npx create-react-app reactshop --template cra-template-pwa</code></p>\n<h3 id=\"pwa란\" style=\"position:relative;\"><a href=\"#pwa%EB%9E%80\" aria-label=\"pwa란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PWA란</h3>\n<p>네이티브 앱을 개발하고 유지보수하는 것은 상당히 길고 복잡한 과정이며, 상당한 비용이 소요되는 경우도 많기 때문에</p>\n<p>굳이 앱을 개발하지 않고 웹만으로 웹에서 사용하는 기술과 네이티브 앱의 장점을 결합한 것 => 실제 네이티브 앱과 견줄 수 있을 정도로 좋음</p>\n<p>PWA를 통해서 사용자는 모바일 앱과 같은 사용자 경험(UX)을 누릴 수 있으며 실제 네이티브 앱이 제공하는 모바일 푸시 (알림), 오프라인이나 저속의 네트웍 속도에서의 사용을 지원함 </p>\n<p>게다가 HTML, JAVASCRIPT, CSS같은 웹 기술만으로도 구현이 가능함 </p>\n<p>인터넷 웹사이트의 파일들(html, javascript, css등)을 컴퓨터에 저장(캐싱)해 놨다가 다시 요청이 올 때 저장(캐싱)된 파일들을 먼저 보여주고 </p>\n<p>필요할 떄 웹서버에 있는 데이터를 받아서 보여주는 기술과 홈화면에 바로가기 아이콘을 설치 할 수 있게 하는 기술, 서버의 소식을 클라이언트에 전하는 Push기술.</p>\n<p>스마트폰으로 이 사이트에 접속 시 홈 화면에 설치 가능하며 이후 저장된 사이트를 열어보면 모양도 네이티브 앱처럼 보이고 기능도 모두 같고 브라우저 창도 없음\nPWA로 웹 애플리케이션을 만들 때의 가장 큰 장점은 운영체제에 관계없이 실행 가능하다는 것 (안드로이드 폰 , 아이폰)</p>\n<p>PWA인 대표적인 웹사이트들\n트위터닷컴(twitter.com), 스타벅스(Starbucks.com), 핀터레스트(Pinterest.com), 워싱턴포스트(Washingtonpost.com), 우버(Uber.com) 등</p>\n<h2 id=\"네이티브-앱-vs-pwa\" style=\"position:relative;\"><a href=\"#%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C-%EC%95%B1-vs-pwa\" aria-label=\"네이티브 앱 vs pwa permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>네이티브 앱 VS PWA</h2>\n<p>일반적으로 애플의 앱스토어나 구글의 플레이스토어에서 다운로드할 수 있는 네이티브 앱은 해당 플랫폼에 특화된 프로그래밍 언어(iOS: Swift, 안드로이드앱: Java)로 만드는 경우가 많아 </p>\n<p>다양한 환경에 필요한 관련된 기술을 알아야만 앱스토어에 출시가 가능하지만 PWA 방식을 이용하면 두 개의 환경에서 모두 실행되는 앱으르 개발이 가능함</p>\n<p>PWA는 일단 홈 화면에 저장되면 브라우저에서 실행되며, 네이티브 앱처럼 동작함\n그리고 보안상의 이유로 브라우저가 접근하지 못하는 시스템 하드웨어와 소프트웨어에도 접근 가능하기에 PWA의 성능이 뛰어나다면, 사용자들은 자신들이 웹 기반의 앱을 사용하고 있는 것인지, 아니면 네이티브 앱을 사용하고 있는 것인지를 구분하지 못함</p>\n<p>하지만 여러 브라우저들이 PWA를 위한 기술들을 빠르게 채택하고 있기는 하지만, iOS의 경우 사파리(Safari) 브라우저가 지원하지 않는 경우가 많아 다른 플랫폼에서와 동일한 환경을 구성하는 것이 번거로움\n게다가 네이티브 앱이 훨씬 더 깊숙이까지 운영체제 속으로 접근 가능하기에 고성능 게임과 같은 서비스를 개발 하는데에는 한계가 존재해 아직은 많은 부분에서 네이티브 앱이 우위를 보이고 있음</p>\n<p>그렇기 때문에 반드시 PWA로 해야하는 명확한 이유가 존재해야함\nPWA로 모바일 서비스를 하는 것도 좋지만 사용하고자 하는 사람이 없다면 개발할 이유가 없기 때문이다.\n누구를 위한것인지 고객이 사용하긴 하는지 훨씬 더 쉬운방법이 존재하는지 사용자경험에 도움이 되는 것인지 어디에 있는 사람들인지 데이터 통신이 원활한 지역에 살면서 하드웨어에 가기도 좋은 걸 사용하는지 자문해봐야한다</p>\n<h2 id=\"pwa-장점\" style=\"position:relative;\"><a href=\"#pwa-%EC%9E%A5%EC%A0%90\" aria-label=\"pwa 장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PWA 장점</h2>\n<p>일단 많은 사람들이 앱을 개발하고자 하는 이유는 앱을 통해서 참여율을 더욱 끌어올릴 수 있기 때문</p>\n<p>앱을 설치하는 사용자들은 이미 관심이 있는 것이기 때문에 푸시 알림을 이용하면, 사용자들의 관심을 더욱 쉽게 이끌어낼 수 있어 브랜드에 도움이 되는 뛰어난 경험을 제공 가능함</p>\n<ul>\n<li>다양한 앱스토어에 출시하기 위해서 별도의 프로세스를 거치지 않아도 된다.</li>\n<li>일반적인 웹 기술을 활용해서 PWA를 만들 수 있다.</li>\n<li>일반적으로 개발 비용이 더 저렴하다.</li>\n<li>기존의 웹사이트를 앱으로 만들 수 있기 때문에, 추가로 유지관리해야 하는 코드베이스(codebase, 소스코드 일체)가 적다.</li>\n<li>PWA는 기본적으로 반응형(responsive)이기 때문에, 다양한 화면 크기에도 잘 동작한다.</li>\n<li>PWA는 부드럽고 빠르며 가볍다.</li>\n<li>구글이나 애플에게 거액의 돈을 줄 필요가 없다.</li>\n<li>일반적인 웹사이트와는 달리, 오프라인에서도 작동한다.</li>\n<li>PWA는 검색엔진을 통해서 찾을 수 있다. (앱스토어보다는 검색엔진을 사용하는 사람들이 훨씬 더 많다. </li>\n<li>그리고 원한다면 앱스토어를 통해서도 PWA를 배포할 수 있다.)</li>\n<li>푸시 알림을 통해서 사용자들의 관심을 끌 수 있다.</li>\n<li>PWA를 설치하게 함으로써 보다 높은 참여를 이끌어낼 수 있다.</li>\n</ul>\n<p>PWA에서 검색엔진 최적화(SEO)와 관련해서 고려해야 하는 요소들\nPWA는 기본적으로 웹(web)이 중심입니다. 웹에서 태어났고, 검색엔진으로 쉽게 찾을 수 있도록 개발되었습니다.\n물론, 오래된 웹사이트로도 얼마든지 PWA를 만들 수 있고, 이렇게 하면 시간도 많이 걸리지 않습니다.\n그러나 PWA는 자바스크립트를 활용해서 더욱 복잡한 기능을 구현하는 경우가 많습니다.\n그리고 요즘에는 검색엔진들도 자바스크립트의 렌더링(rendering, 코드를 화면에 표시하기 위해 변환하는 것)을 더욱 잘할 수 있기는 하지만, 여전히 우려해야 하는 부분들은 남아 있습니다.</p>\n<p>우선 PWA를 위한 환경을 설정할 때는, 검색엔진이 자바스크립트에 액세스 할 수 있도록 해야 합니다. 검색엔진의 봇(bot)이 파일에 접근하는 것을 막아 놓으면 안 되며, 링크도 유효한 것인지를 확인해야 합니다. 렌더링 프로세스를 개선하려면, 여러분의 자바스크립트 프레임워크가 서버 측 렌더링(웹페이지의 내용을 서버에서 렌더링 해서 전송해주는 방식)을 사용하도록 설정하는 것이 좋습니다.</p>\n<p>기존의 웹사이트를 PWA로 바꾼다고 해서 그것이 곧바로 SEO의 개선을 의미하는 것은 아닙니다. 기존의 사이트를 PWA로 전환하는 게 타당하다면 그렇게 해야 합니다. 하지만 단지 SEO를 개선하기 위한 목적으로 바꾸는 것은 좋지 않습니다. 훌륭한 PWA를 갖게 되면 사람들에게 환상적인 사용자 경험을 제공할 수 있으며, 여러분의 경쟁력을 한층 더 높일 수 있습니다. 그런 측면에서, 여러분이 만든 PWA의 모바일 SEO 전략은 어떠한지를 살펴보는 것이 좋습니다.</p>\n<p>기존의 웹사이트를 PWA로 바꾸기 전 해야할 작업 세 가지의 주요 구성요\nPWA를 설정하는 데는 많은 작업이 필요하지 않습니다. 기존의 웹사이트를 그럴듯한 PWA로 바꾸기 전에 해야 할 작업은 크게 3가지가 있습니다.\nPWA를 실행하기 위해 필요한 3가지</p>\n<ul>\n<li>보안 연결(HTTPS): PWA는 신뢰할 수 있는 연결 상태에서만 동작하기 때문에, 보안 연결을 통해서 서비스를 제공해야 합니다. 이건 단지 보안상의 이유 때문만은 아니고, 사용자들의 신뢰를 얻기 위해서도 아주 중요한 부분입니다.</li>\n<li>서비스 작업자(service worker): 서비스 작업자는 백그라운드에서 실행되는 스크립트입니다. 서비스 작업자는 네트워크와 관련된 요청의 처리를 도와주기 때문에, 여러분은 그 점에 대해서는 걱정하지 않고 더욱 복잡한 작업을 수행할 수 있습니다.</li>\n<li>매니페스트 파일(manifest file, 설정 파일): 이것은 제이슨(JSON, 용량이 적은 데이터를 교환하기 위한 형식) 파일이며, PWA가 표시되고 기능하는 방식에 대한 정보들이 포함되어 있는 것입니다. 여기에서는 PWA의 이름, 설명, 아이콘, 색상 등을 지정할 수 있습니다.</li>\n</ul>\n<p>PWA로 사용자들의 참여를 이끌어내기\nPWA는 여러분의 모바일 서비스에서 아주 뛰어난 역할을 담당할 수 있습니다. 제대로 만들면 아주 빠르고, 오프라인에서도 동작하며, 네이티브 앱과 같은 기능을 발휘할 수 있습니다. 전반적으로, PWA는 사람들에게 아주 멋진 사용자 경험을 제공할 수 있습니다.</p>\n<h2 id=\"pwa특징\" style=\"position:relative;\"><a href=\"#pwa%ED%8A%B9%EC%A7%95\" aria-label=\"pwa특징 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PWA특징</h2>\n<p>App처럼 홈스크린에 아이콘을 설치하여 APP처럼 쉽게 바로가기를 실현 가능함</p>\n<h2 id=\"push-메시지-기능\" style=\"position:relative;\"><a href=\"#push-%EB%A9%94%EC%8B%9C%EC%A7%80-%EA%B8%B0%EB%8A%A5\" aria-label=\"push 메시지 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Push 메시지 기능</h2>\n<p>App의 중요 특징 중 하나인 Push가 가능하다는 것입니다. 원래 웹은 클라이언트에서 서버로 요청이 있어야만 결과물을 보내주는 형태로 구현이 되는데 Push는 반대로 클라이언트의 요청이 없더라도 서버의 필요에 의해서 클라이언트에게 데이터를 보낼 수 있는 기능입니다. 보통 쪽지나 Notice형태로 제공됩니다.</p>\n<h3 id=\"offline-접속-기능\" style=\"position:relative;\"><a href=\"#offline-%EC%A0%91%EC%86%8D-%EA%B8%B0%EB%8A%A5\" aria-label=\"offline 접속 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Offline 접속 기능</h3>\n<p>PWA가 캐싱이 되기 때문에 Offline이거나 속도가 느린 상태에서도 미리 다운로드 되어 있는 정보를 계속 볼 수 있습니다.</p>\n<h3 id=\"보안\" style=\"position:relative;\"><a href=\"#%EB%B3%B4%EC%95%88\" aria-label=\"보안 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>보안</h3>\n<p>PWA는 HTTPS에서만 사용이 가능하기 때문에 일반 인터넷 데이터에 비해 보안이 강화된 상태라고 할 수 있습니다.</p>\n<h3 id=\"pwa-제작-기술\" style=\"position:relative;\"><a href=\"#pwa-%EC%A0%9C%EC%9E%91-%EA%B8%B0%EC%88%A0\" aria-label=\"pwa 제작 기술 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PWA 제작 기술</h3>\n<p>PWA를 구현하기 위해서는 크게 manifest.json과 Service Workers라는 2가지의 기술이 필요합니다.</p>\n<h3 id=\"manifestjson\" style=\"position:relative;\"><a href=\"#manifestjson\" aria-label=\"manifestjson permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>manifest.json</h3>\n<p>설치 시 아이콘은 무얼 사용하고 아이콘을 눌렀을때 접속할 페이지는 무엇인지, 배경색은 무슨색으로 할 것인지에 관한 설정파일</p>\n<h3 id=\"service-worker\" style=\"position:relative;\"><a href=\"#service-worker\" aria-label=\"service worker permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>service-worker</h3>\n<p>PWA의 핵심으로 캐싱은 어떻게 할 것인지 요청시 캐시를 먼저 보여줄지 웹서버를 통해서 먼저 보여줄지, push 등등에 대한 프로그래밍하는 기술 (PWA의 거의 80%에 해당하는 기술)</p>\n<h2 id=\"react-구조\" style=\"position:relative;\"><a href=\"#react-%EA%B5%AC%EC%A1%B0\" aria-label=\"react 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React 구조</h2>\n<ul>\n<li>index.js 파일:\nReactDOM.render(<App />, document.getElementById(‘root’));\npublic/index.html의  <div id=\"root\"></div> 부분에다가 보여주고 싶은 컴포넌트를 넣어주는데 App컴포넌트라고 정의를 해줌\n즉, app.js 페이지 렌더링 됨</li>\n</ul>\n<p>&#x3C; Src 폴더 내 > </p>\n<ul>\n<li>_actions, _reducer : Redux를 위한 폴더들</li>\n<li>components/views : Page들을 넣음 - Landing Page: 처음로딩되는 페이지에 관한 파일</li>\n<li>components/views/Sections : 해당 페이지에 관련된 css파일이나 component들을 넣음</li>\n<li>App.js: Routing 관련 처리 (페이지 별 분류)</li>\n<li>Config.js : 환경변수 정의</li>\n<li>hoc : Higher Order Component. 다른 컴포넌트를 갖는 function\n예를 들어 admin이라는 컴포넌트에 진입시 auth라는 hoc이 유저의 자격을 체크해서 컴포넌트에 진입 여부를 결정해 다음 액션을 취할 수있게 해줌\nauth 안에 여러 컴포넌트들을 넣어놓고 사용 가능 </li>\n<li>utils : 여러군데에서 쓰일 수 있는 것들을 이곳에 넣어 어디서든 쓸 수있게해줌</li>\n</ul>\n<h2 id=\"react-router-dom--페이지간-이동-\" style=\"position:relative;\"><a href=\"#react-router-dom--%ED%8E%98%EC%9D%B4%EC%A7%80%EA%B0%84-%EC%9D%B4%EB%8F%99-\" aria-label=\"react router dom  페이지간 이동  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React Router Dom ( 페이지간 이동 )</h2>\n<p><a href=\"https://v5.reactrouter.com/web/example/basic\">참고</a>\n<code class=\"language-text\">npm i react-router-dom</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  BrowserRouter <span class=\"token keyword\">as</span> Router<span class=\"token punctuation\">,</span>\n  Switch<span class=\"token punctuation\">,</span>\n  Route<span class=\"token punctuation\">,</span>\n  Link\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-router-dom\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> functiion <span class=\"token function\">BasicExample</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n   <span class=\"token operator\">&lt;</span>Router<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>Home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/signin\"</span><span class=\"token operator\">></span>login<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/signup\"</span><span class=\"token operator\">></span>register<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Switch<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Route exact path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>\n        <span class=\"token comment\">//라우터 안에 Home 컴포넌트 삽입</span>\n          <span class=\"token operator\">&lt;</span>LandingPage <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n        <span class=\"token comment\">// 한줄로 표현 가능</span>\n       <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/signin\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>LandingPage<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/signup\"</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>SignupPage <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nfuntion <span class=\"token function\">LandingPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span>Home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// 위의 컴포넌트를 따로 파일로 빼서 import 해올 수 있음</span>\n<span class=\"token keyword\">import</span> SigninPage <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/views/SigninPage/SigninPage'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">(</span>client<span class=\"token operator\">/</span>src<span class=\"token operator\">/</span>components<span class=\"token operator\">/</span>views<span class=\"token operator\">/</span>SigninPages<span class=\"token operator\">/</span>SigninPage<span class=\"token punctuation\">.</span>js<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\nfuntion <span class=\"token function\">SigninPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span>Login<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> SigninPage\n\nSignupPage<span class=\"token operator\">...</span> </code></pre></div>\n<h1 id=\"react-vs-react-hooks\" style=\"position:relative;\"><a href=\"#react-vs-react-hooks\" aria-label=\"react vs react hooks permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React VS React Hooks</h1>\n<h2 id=\"react-component\" style=\"position:relative;\"><a href=\"#react-component\" aria-label=\"react component permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React Component</h2>\n<ul>\n<li>\n<p>Class Component\nProvide more features 더 많은 기능들 사용 가능\nLonger Code 코드 길어짐\nMore Complex Code 복잡한 코드\nSlower Performance 성능측면에서 느려짐</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> Axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Hello</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">// react 생성 순서(Life cycle) </span>\n<span class=\"token comment\">// 제일 먼저 constructor 실행</span>\n<span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// state을 먼저 부여해줌 name은 아무것도 없는 걸로 해줌</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// render후에 실행되는 부분</span>\n<span class=\"token comment\">// componentDidMount을 통해 데이터를 가져오거나 하고싶은 것들을 해주면 됨</span>\n<span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  Axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/user/name'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// constructor다음 render </span>\n<span class=\"token comment\">// DOM에다가 알맞게 넣어줘서 화면에 랜더링 해주는 것 </span>\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span> My name is <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span> <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>Functional Component\nProvide less features 한정적인 기능\nShorter Code 코드 짧음\nSimpler Code 코드 간단\nFaster Performance 성능이 더 좋음</li>\n</ul>\n<h2 id=\"functional-component에선-쓰지-못하는-class-component-기능\" style=\"position:relative;\"><a href=\"#functional-component%EC%97%90%EC%84%A0-%EC%93%B0%EC%A7%80-%EB%AA%BB%ED%95%98%EB%8A%94-class-component-%EA%B8%B0%EB%8A%A5\" aria-label=\"functional component에선 쓰지 못하는 class component 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Functional Component에선 쓰지 못하는 Class Component 기능</h2>\n<p><a href=\"https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/\">참고</a>\nClass Component를 이용할 때 리액트에서 처음에 페이지 켤 때 생성, 업데이트. 삭제 시\nconstructor-> render-> react updates DOM and refs -> componentDidMount 이런식의 과정을 거치는데 functional component에서는 이것들을 쓸 수가 없기에 빠르다는 장점을 제외하고는 기능이 제한적이다보니 대부분 클래스 컴포넌트를 사용해왔지만\nReact에서 Hooks을 발표한 이후부턴 life cycle, state 부여하는 기능등을 통해 functional component만으로도 Class Component기능들을 쓸 수있게됨\ncomponentDidMount = useEffect, this.state 를 useState로 대체해서 사용</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useEffect<span class=\"token punctuation\">,</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> Axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Hooks</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>Name<span class=\"token punctuation\">,</span> setName<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// useEffect Hooks</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      Axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/user/name'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span> My name is <span class=\"token punctuation\">{</span>Name<span class=\"token punctuation\">}</span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span> <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Reference</p>\n<p><a href=\"https://webruden.tistory.com/275\">베이스 캠프</a>\n<a href=\"https://velog.io/@jini_eun/React-React.js%EB%9E%80-%EA%B0%84%EB%8B%A8-%EC%A0%95%EB%A6%AC\">Jini님 블로그</a>\n<a href=\"http://blog.wishket.com/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%A0%88%EC%8B%9C%EB%B8%8C-%EC%9B%B9-%EC%95%B1pwa%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B4%EB%A9%B0-%EC%99%9C-%ED%95%84%EC%9A%94%ED%95%9C%EA%B0%80/\">wishket님 블로그</a></p>","frontmatter":{"date":"November 15, 2021","title":"Shop Project_React","categories":"TIL","author":"yooji","emoji":null},"fields":{"slug":"/Shop_React5/"}},"site":{"siteMetadata":{"siteUrl":"https://www.yoojiih.github.io","comments":{"utterances":{"repo":"yoojiih/yoojiih.github.io"}}}}},"pageContext":{"slug":"/Shop_React4/","nextSlug":"/Shop_React3/","prevSlug":"/Shop_React5/"}},"staticQueryHashes":["1073350324","2938748437"]}