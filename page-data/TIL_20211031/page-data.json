{"componentChunkName":"component---src-templates-blog-template-js","path":"/TIL_20211031/","result":{"data":{"cur":{"id":"44d9b314-e769-5fad-b3c4-ec1225b6d89c","html":"<h2 id=\"flex-css-참고\" style=\"position:relative;\"><a href=\"#flex-css-%EC%B0%B8%EA%B3%A0\" aria-label=\"flex css 참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Flex css (참고)</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 128.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAaABQDASIAAhEBAxEB/8QAGQABAQADAQAAAAAAAAAAAAAAAgABAwQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAH1kWKjOcHqMi2Rf//EABwQAAICAgMAAAAAAAAAAAAAAAECEBEAEiEiMf/aAAgBAQABBQJrDMcTxqLGiUPXU7tw4io//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAGhABAAMAAwAAAAAAAAAAAAAAEQABECAxQf/aAAgBAQAGPwJbJXeBcMSecf/EABwQAQEAAgMBAQAAAAAAAAAAAAERADEQIUFRcf/aAAgBAQABPyFeoNGIiEWY17qo52L9BzRNT3PJq+46pPtxQjTLcIEOItheP//aAAwDAQACAAMAAAAQqPE//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAExEP/aAAgBAwEBPxBUUK8//8QAGBEAAwEBAAAAAAAAAAAAAAAAAAExEEH/2gAIAQIBAT8QcHTmf//EAB0QAQEAAgIDAQAAAAAAAAAAAAERACExURBBYZH/2gAIAQEAAT8QUJ+TdMAkDh9esUjBFSZo3RZIY6SpTsfTLWXZKrip73sv5iTUAFtyDADgPCtm7TeQ6M//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"flexnote.jpg\"\n        title=\"flexnote.jpg\"\n        src=\"/static/c9720a3874877bbb37ed337314fc2103/80e3c/flexnote.jpg\"\n        srcset=\"/static/c9720a3874877bbb37ed337314fc2103/4ec73/flexnote.jpg 180w,\n/static/c9720a3874877bbb37ed337314fc2103/158ba/flexnote.jpg 360w,\n/static/c9720a3874877bbb37ed337314fc2103/80e3c/flexnote.jpg 720w,\n/static/c9720a3874877bbb37ed337314fc2103/47311/flexnote.jpg 1080w,\n/static/c9720a3874877bbb37ed337314fc2103/644c5/flexnote.jpg 1440w,\n/static/c9720a3874877bbb37ed337314fc2103/c06f5/flexnote.jpg 1668w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<blockquote>\n<p>flex는 css에서 레이아웃 표현 기법중 하나임\n예전 css는 한정되고 복잡한 속성들로 레이아웃을 표현해왔었는데 이젠 간단하게 레이아웃을 표현할 수 있는 방법이 많이 생겼다\n그 중 대표적인게 flex 속성\nflex는 기본적으로 정렬된 아이템들의 부모 요소에다가 적용하고(가로정렬, 세로정렬등)\n특히 가로정렬하는데 굉장히 유용한 도구로 쓰임\n근데 부모요소에 flex를 적용시 첫번째 자식에 해당하는 요소들 까지만 flex 속성이 적용됨\n기본적으로 모든 해당 요소들이 좌측과 상단을 기준으로 default값이 설정됨</p>\n</blockquote>\n<h3 id=\"justify-content-flex된-해당-부모가-감싸고-있는-영역의-요소들을-가로-정렬\" style=\"position:relative;\"><a href=\"#justify-content-flex%EB%90%9C-%ED%95%B4%EB%8B%B9-%EB%B6%80%EB%AA%A8%EA%B0%80-%EA%B0%90%EC%8B%B8%EA%B3%A0-%EC%9E%88%EB%8A%94-%EC%98%81%EC%97%AD%EC%9D%98-%EC%9A%94%EC%86%8C%EB%93%A4%EC%9D%84-%EA%B0%80%EB%A1%9C-%EC%A0%95%EB%A0%AC\" aria-label=\"justify content flex된 해당 부모가 감싸고 있는 영역의 요소들을 가로 정렬 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>justify-content (flex된 해당 부모가 감싸고 있는 영역의 요소들을 가로 정렬)</h3>\n<p>justify-content: flex-start → 왼쪽으로 정렬 (기본값)\njustify-content: flex-end → 오른쪽으로 정렬\njustify-content: center → 중앙으로 정렬</p>\n<h3 id=\"justify-content-space-아이템들-간에-간격-조정\" style=\"position:relative;\"><a href=\"#justify-content-space-%EC%95%84%EC%9D%B4%ED%85%9C%EB%93%A4-%EA%B0%84%EC%97%90-%EA%B0%84%EA%B2%A9-%EC%A1%B0%EC%A0%95\" aria-label=\"justify content space 아이템들 간에 간격 조정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>justify-content: space (아이템들 간에 간격 조정)</h3>\n<p>justify-content: space-around  → 각 요소들의 좌우 margin이 같게 자동 정렬\njustify-content: space-between → 첫번째와 마지막 아이템의 좌우 마진은 사라지고 아이템들간의 영역만 동일 간격으로 띄워짐\njustify-content: space-evenly → 아이템을 제외한 빈 모든 공간이 동일한 간격을 가짐 ( VS space-around : 아이템의 좌우 마진값을 동일하게)  </p>\n<h3 id=\"align-items-세로기준-정렬\" style=\"position:relative;\"><a href=\"#align-items-%EC%84%B8%EB%A1%9C%EA%B8%B0%EC%A4%80-%EC%A0%95%EB%A0%AC\" aria-label=\"align items 세로기준 정렬 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>align-items (세로기준 정렬)</h3>\n<p>align-items: flex-start → 부모 안에서 상단기준 정렬\nalign-items: flex-end → 부모 안에서 하단기준 정렬\nalign-items: center → 부모 안에서 중앙 정렬</p>\n<h3 id=\"flex-direction-축-변경\" style=\"position:relative;\"><a href=\"#flex-direction-%EC%B6%95-%EB%B3%80%EA%B2%BD\" aria-label=\"flex direction 축 변경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>flex-direction (축 변경)</h3>\n<p>flex-direction: colum → 세로로 정렬\nflex-direction: row → 가로로 정렬 (flex default값과 동일)\nflex-direction: reverse → 아이템들 반대로 정렬\nflex-direction: colum-reverse → 아이템들 세로로 정렬 후 반대로 정렬</p>\n<p>대략 이런식으로 사용됨 (소스코드 예시)</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    .wrapper {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        flex-direction: colum;\n    }</code></pre></div>","excerpt":"Flex css (참고)  flex는 css에서 레이아웃 표현 기법중 하나임 \n예전 css는 한정되고 복잡한 속성들로 레이아웃을 표현해왔었는데 이젠 간단하게 레이아웃을 표현할 수 있는 방법이 많이 생겼다 \n그 중 대표적인게 flex 속성\nflex는 기본적으로 정렬된 아이템들의 부모 요소에다가 적용하고(가로정렬, 세로정렬등) \n특히 가로정렬하는데 굉장히 유용한 도구로 쓰임\n근데 부모요소에 flex를 적용시 첫번째 자식에 해당하는 요소들 까지만 flex 속성이 적용됨\n기본적으로 모든 해당 요소들이 좌측과 상단을 기준으로 default값이 설정됨 justify-content (flex된 해당 부모가 감싸고 있는 영역의 요소들을 가로 정렬) justify-content: flex-start → 왼쪽으로 정렬 (기본값)\njustify-content: flex-end → 오른쪽으로 정렬\njustify-content: center → 중앙으로 정렬 justify-content: space (아…","frontmatter":{"date":"October 31, 2021","title":"Shop Project_Next style comparison","categories":"TIL","author":"yooji","emoji":null},"fields":{"slug":"/TIL_20211031/"}},"next":{"id":"dc7a6b2a-bfe7-586e-bd1e-600054751e7f","html":"","frontmatter":{"date":"October 30, 2021","title":"Shop Project_TDD_Test jest","categories":"TIL","author":"yooji","emoji":null},"fields":{"slug":"/TIL_20211030/"}},"prev":{"id":"7e4528e6-b3b0-5645-8918-e38e459822d5","html":"<h2 id=\"nextjs는-기본적으로-static-generation이-적용되어-있으며-외부데이터api-db등을-포함하여-렌더링해야할-때-ssg-ssr을-선택적으로-적용할-수-있다\" style=\"position:relative;\"><a href=\"#nextjs%EB%8A%94-%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9C%BC%EB%A1%9C-static-generation%EC%9D%B4-%EC%A0%81%EC%9A%A9%EB%90%98%EC%96%B4-%EC%9E%88%EC%9C%BC%EB%A9%B0-%EC%99%B8%EB%B6%80%EB%8D%B0%EC%9D%B4%ED%84%B0api-db%EB%93%B1%EC%9D%84-%ED%8F%AC%ED%95%A8%ED%95%98%EC%97%AC-%EB%A0%8C%EB%8D%94%EB%A7%81%ED%95%B4%EC%95%BC%ED%95%A0-%EB%95%8C-ssg-ssr%EC%9D%84-%EC%84%A0%ED%83%9D%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%A0%81%EC%9A%A9%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8B%A4\" aria-label=\"nextjs는 기본적으로 static generation이 적용되어 있으며 외부데이터api db등을 포함하여 렌더링해야할 때 ssg ssr을 선택적으로 적용할 수 있다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>next.js는 기본적으로 static generation이 적용되어 있으며 외부데이터(API, DB)등을 포함하여 렌더링해야할 때 ssg ssr을 선택적으로 적용할 수 있다.</h2>\n<p><a href=\"https://nextjs.org/docs/basic-features/pages\">Nextjs공식문서</a></p>\n<h2 id=\"static-generation-with-data-recommended\" style=\"position:relative;\"><a href=\"#static-generation-with-data-recommended\" aria-label=\"static generation with data recommended permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Static Generation with data (Recommended)</h2>\n<p>정적 생성은 build시 HTML을 생성한다\n보통 데이터에 의존하지 않는 페이지들은 모두 이에 해당 (ex.인터렉션에 관계없이 똑같은 정보를 제공해야 하는 프로모션 페이지)\n또한 페이지의 컨텐츠나 경로가 외부 데이터에 의존할 경우, getStaticProps 와 getStaticPaths 를 활용하여 HTML을 정적 생성할 수 있다.</p>\n<h1 id=\"data-fetching\" style=\"position:relative;\"><a href=\"#data-fetching\" aria-label=\"data fetching permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data Fetching</h1>\n<p>Next.js에서 제공하는 Functions (fetching external data for pre-rendering)\nYour page <code class=\"language-text\">content</code> depends on external data: <code class=\"language-text\">Use getStaticProps</code>\nYour page <code class=\"language-text\">paths</code> depend on external data: <code class=\"language-text\">Use getStaticPaths</code> (usually in addition to getStaticProps).</p>\n<blockquote>\n<p>The HTML is generated at build time and will be reused on each request. To make a page use Static Generation, either export the page component, or export getStaticProps (and getStaticPaths if necessary). It’s great for pages that can be pre-rendered ahead of a user’s request. You can also use it with Client-side Rendering to bring in additional data.</p>\n</blockquote>\n<h2 id=\"server-side-rendering\" style=\"position:relative;\"><a href=\"#server-side-rendering\" aria-label=\"server side rendering permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Server-side Rendering</h2>\n<p>매 요청마다 데이터를 fetching해야 한다면 getServerSideProps를 사용해 SSR을 함\ngetServerSideProps is run on every request instead of on build time.(getStaticProps와의 차이점)</p>\n<blockquote>\n<p>The HTML is generated on each request. To make a page use Server-side Rendering, export getServerSideProps. Because Server-side Rendering results in slower performance than Static Generation, use this only if absolutely necessary.</p>\n</blockquote>\n<h1 id=\"getinitialprops-next-93에선-사용-권장하지-않음\" style=\"position:relative;\"><a href=\"#getinitialprops-next-93%EC%97%90%EC%84%A0-%EC%82%AC%EC%9A%A9-%EA%B6%8C%EC%9E%A5%ED%95%98%EC%A7%80-%EC%95%8A%EC%9D%8C\" aria-label=\"getinitialprops next 93에선 사용 권장하지 않음 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>getInitialProps (Next 9.3에선 사용 권장하지 않음)</h1>\n<p>React에서 프로젝트를 진행하면 렌더링 후에 componentDidMount나 useEffect()로 데이터를 불러와야 하지만\nNext에선 getInitialProps를 통해 데이터를 미리 불러와 한 번에 렌더링이 가능해 속도 빨라지고 코드상 처리 깔끔해짐\n어디든지 사용가능한 공통 데이터가 필요 시 _app.js에 getInitialProps를 붙이면 되고,그게 아니면 페이지마다 붙이면 됨\n자식 컴포넌트에서 사용할 수 없으며, 오로지 default export 컴포넌트에서만 사용가능</p>\n<h1 id=\"getstaticprops-vs-getstaticpaths-vs-getserversideprops\" style=\"position:relative;\"><a href=\"#getstaticprops-vs-getstaticpaths-vs-getserversideprops\" aria-label=\"getstaticprops vs getstaticpaths vs getserversideprops permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>getStaticProps VS getStaticPaths VS getServerSideProps</h1>\n<p>getStaticProps (Static Generation): 빌드(build)할 때 데이터를 불러옴\ngetStaticPaths (Static Generation): 데이터에 기반하여 pre-render때 특정한 동적 라우팅 구현\ngetServerSideProps (Server-side Rendering): 요청(request) 있을 때 데이터를 불러옴</p>\n<h1 id=\"getstaticprops-함수\" style=\"position:relative;\"><a href=\"#getstaticprops-%ED%95%A8%EC%88%98\" aria-label=\"getstaticprops 함수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>getStaticProps 함수</h1>\n<blockquote>\n<p>어떤 페이지에서 getStaticProps 함수를 async로 export하면, getStaticProps에서 리턴되는 props를 가지고 페이지를 pre-render 한다.</p>\n</blockquote>\n<ul>\n<li>초기 렌더링 때 한번 실행된 후 실행안됨</li>\n<li>\n<p>기본 코드</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getStaticProps</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\nprops<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 컴포넌트로 넘어갈 props</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>context 매개변수\nparams: 페이지 이름이 [id].js (동적라우팅)-> params는 {id: …} 라우팅 매개변수 지님\npreview: true일 때 preview 모드가 된다.\npreviewData: setPreviewData로 설정한 preview data를 지닌다.</li>\n<li>API, DB 등 외부 데이터를 포함하고 있을 경우 렌더링 하는 방법\nasync function으로 컴포넌트 내에 외부데이터를 포함하여 pre-render하기 위해 사용\ngetStaticProps 함수는 서버 단에서 build 시간에 호출됨 (직접 데이터베이스 쿼리에도 접근 가능)\n{ props: posts }을 리턴하여 Blog 컴포넌트는 getStaticProps()에 의해 build 시간에 ‘posts’를 props로 받아서 사용\n-> 외부데이터를 pre-render하기전에 getStaticProps함수를 한번 거치는 것\nFetch API (자바스크립트에 내장된) 사용 예시</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">Blog</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> posts <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>posts<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">//먼저 getStaticProps 함수 내에 외부 데이터를 props객체로 반환한다.</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getStaticProps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://.../posts'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 외부데이터</span>\n  <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      posts<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Blog</code></pre></div>\n<ul>\n<li>\n<p>getStaticProps가 필요한 경우</p>\n<ol>\n<li>페이지를 렌더링 하는데 사용자의 요청보다 먼저 build 시간에 필요한 데이터를 가져올 때</li>\n<li>headless CMS에서 데이터가 올 때</li>\n<li>공개적으로 캐시될 수 있는 데이터(특정 유저가 아닌)</li>\n<li>페이지가 사전 렌더링(ex. SEO)되어야 하고 엄청 빨라야 할 때(getStatidProps는 HTML과 JSON 파일을 생성하며, 이 두 파일 모두 CDN에서 성능을 위해 캐시할 수 있음)</li>\n</ol>\n</li>\n</ul>\n<h1 id=\"getstaticpaths\" style=\"position:relative;\"><a href=\"#getstaticpaths\" aria-label=\"getstaticpaths permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>getStaticPaths</h1>\n<p>Next는 pre-render에서 정적으로 getStaticPaths에서 호출하는 경로들을 가져옴\n외부데이터를 이용하여 data를 빌드타임에 fetching하면서 data에 따라 다른페이지를 보여줄 동적 라우팅이 필요한 경우\nid의 경우에는 동적라우트 컴포넌트 파일명을 따름 ([id].js -> id: “1”, [hi].js -> hi: 1)\nLink href 주소와 매칭이 되어야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getStaticPaths</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    paths<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> <span class=\"token punctuation\">{</span> params<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">--</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span> params<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token string\">'1'</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span> params<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token string\">'2'</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    fallback<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> or <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getStaticProps</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span>params<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span> \n    <span class=\"token keyword\">const</span> postData <span class=\"token operator\">=</span> <span class=\"token function\">context</span><span class=\"token punctuation\">(</span>getStaticPaths에서 리턴한 값<span class=\"token punctuation\">)</span>를 이용하여 데이터를 가공<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            postData<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>원하는 컴포넌트에서 가공된 데이터를 활용</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Post</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>postData<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>paths\npaths: 동적 라우팅 경로를 pre-render함\nparams: 페이지 이름에 사용되는 매개변수와 일치\nex) pages/posts/[postId]/[commentId] -> params는 postId와 commentId를 포함해야 함\npages/[…slug]와 같이 모든 경로를 사용 -> params는 slug가 담긴 배열이여야 함</li>\n<li>fallback\nfalse: getStaticPaths로 리턴되지 않은 것은 모두 404 페이지 뜨게함\ntrue: getStaticPaths로 리턴되는 것은 build 시간에 HTML이 렌더됨\nparams가 수천개가 넘어갈 경우 빌드타임에 수천개의 페이지가 만들어지는 문제점을 해결</li>\n</ul>\n<h1 id=\"getserversideprops-server-side-rendering\" style=\"position:relative;\"><a href=\"#getserversideprops-server-side-rendering\" aria-label=\"getserversideprops server side rendering permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>getServerSideProps (Server-Side rendering)</h1>\n<p>빌드타임 이후 유저의 요청(request time)에 즉각 반응하여 SEO를 적용한 새로운 외부 데이터를 제공해야 하는 ssr의 경우\npage 요청때마다 항상 실행되어 리턴되는 데이터를 getServerSideProps로 pre-render함 </p>\n<ul>\n<li>\n<p>기본 문법</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getServerSideProps</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\nprops<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> \n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>외부 API에서 데이터 호출 시</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getServerSideProps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  \n  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://.../data</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// 페이지에 props로 데이터 보내기</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>Context Object (getStaticProps와 비슷)\nparams: 페이지 이름이 [id].js (동적라우팅)-> params는 {id: …} 라우팅 매개변수 지님\nreq: HTTP request object\nres: HTTP response object\nquery: 쿼리스트링\npreview: true일 때 preview 모드 됨\npreviewData: setPreviewData로 설정한 preview data를 지닌다.</li>\n<li>\n<p>getServerSideProp가 필요한 경우</p>\n<ul>\n<li>요청(request)할 때 데이터를 가져와야 하는 페이지를 미리 렌더해야 할때 사용\n서버가 모든 요청에 대한 결과를 계산하고, 추가 구성 없이 CDN에 의해 결과를 캐시할 수 없기 때문에\n첫 번째 바이트까지의 시간(TTFB)은 getStaticProps보다 느리다.</li>\n<li>만약 미리 렌더를 하지 않아도 될 경우, 클라이언트 단에서 데이터를 불러오는 것을 고려해야 한다.</li>\n</ul>\n</li>\n</ul>\n<p><a href=\"https://velog.io/@gytlr01/Next.js-%EC%A3%BC%EC%9A%94-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC-%EB%B0%8F-%EC%82%AC%EC%9A%A9%EB%B2%95\">Hyosik님 블로그</a>\n<a href=\"https://www.howdy-mj.me/next/next-js-intro/\">MJKim님 블로그</a>\n<a href=\"https://coffeeandcakeandnewjeong.tistory.com/m/97\">newjeong님 블로그</a></p>","frontmatter":{"date":"November 01, 2021","title":"Shop Project_SSG vs SSR (with Method)","categories":"TIL","author":"yooji","emoji":null},"fields":{"slug":"/TIL_20211101/"}},"site":{"siteMetadata":{"siteUrl":"https://www.yoojiih.github.io","comments":{"utterances":{"repo":"yoojiih/yoojiih.github.io"}}}}},"pageContext":{"slug":"/TIL_20211031/","nextSlug":"/TIL_20211030/","prevSlug":"/TIL_20211101/"}},"staticQueryHashes":["1073350324","2938748437"]}